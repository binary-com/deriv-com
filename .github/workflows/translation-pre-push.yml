name: Pre-push Translation

on:
  pull_request:
    types: [opened, reopened, synchronize]
    branches:
        - 'master*'
        
jobs:
    check-translation-branch:
        runs-on: ubuntu-latest
        if:  startsWith(github.head_ref, 'translation') || startsWith(github.head_ref, 'stp')
        steps:
            - name: Branch Check üîç 
              run: |
                declare -a arr=("$" "{" "}",".","|","%","@","!","#","^","*","&","(",")")

                for i in "${arr[@]}"
                do
                  echo "$i"
                done

                BRANCH='${{ github.head_ref }}'
                FILTER_1="${BRANCH//$/}"
                FILTER_2="${FILTER_1//{/}"
                FILTER_3="${FILTER_2//./}"
                FILTER_3="${FILTER_2//./}"
                CLEAN_BRANCH="${FILTER_3/&./}"

                echo "$CLEAN_BRANCH is valid branch for translation workflow"

              
