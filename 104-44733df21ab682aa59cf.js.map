{"version":3,"sources":["webpack:///./src/components/hooks/use-livechat.js","webpack:///./src/images/svg/livechat-red.svg","webpack:///./src/pages/help-centre/_didnt-find-answer.js"],"names":["useLivechat","React","useState","is_livechat_interactive","setLiveChatInteractive","LC_API","isBrowser","window","is_logged_in","setLoggedIn","CustomerSdk","useRef","is_livechat_query","URLSearchParams","location","search","get","useEffect","cookie_interval","script_timeout","domain","getDomain","then","CSDK","current","e","setInterval","client_information","getClientInformation","setTimeout","callback","livechat_script","LiveChatWidget","on","toLowerCase","open_chat_window","document","createElement","innerHTML","body","appendChild","clearInterval","clearTimeout","customerSDK","init","licenseId","livechat_license_id","clientId","livechat_client_id","utm_data","getUTMData","utm_source","utm_medium","utm_campaign","loginid","email","landing_company_shortcode","currency","residence","first_name","last_name","session_variables","call","chat_id","chatId","deactivateChat","catch","DFYAWrapper","styled","section","DFYASection","Container","device","mobileL","Button","StyledIcon","img","tabletL","MiddleText","Text","DidntFindYourAnswerBanner","src","alt","size","color","m","localize","secondary","onClick","weight"],"mappings":"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","file":"104-44733df21ab682aa59cf.js","sourcesContent":["import React from 'react'\nimport {\n    getClientInformation,\n    getDomain,\n    getUTMData,\n    isBrowser,\n    livechat_client_id,\n    livechat_license_id,\n} from 'common/utility'\n\nexport const useLivechat = () => {\n    const [is_livechat_interactive, setLiveChatInteractive] = React.useState(false)\n    const LC_API = (isBrowser() && window.LC_API) || {}\n    const [is_logged_in, setLoggedIn] = React.useState(false)\n    const CustomerSdk = React.useRef(null)\n\n    const url_params = new URLSearchParams((isBrowser() && window.location.search) || '')\n    const is_livechat_query = url_params.get('is_livechat_open')\n\n    const loadLiveChatScript = (callback) => {\n        const livechat_script = document.createElement('script')\n        livechat_script.innerHTML = `\n            window.__lc = window.__lc || {};\n            window.__lc.license = 12049137;\n            ;(function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:\"2.0\",on:function(){i([\"on\",c.call(arguments)])},once:function(){i([\"once\",c.call(arguments)])},off:function(){i([\"off\",c.call(arguments)])},get:function(){if(!e._h)throw new Error(\"[LiveChatWidget] You can’t use getters before load.\");return i([\"get\",c.call(arguments)])},call:function(){i([\"call\",c.call(arguments)])},init:function(){var n=t.createElement(\"script\");n.async=!0,n.type=\"text/javascript\",n.src=\"https://cdn.livechatinc.com/tracking.js\",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice))\n        `\n        document.body.appendChild(livechat_script)\n        if (callback) callback()\n    }\n\n    React.useEffect(() => {\n        let cookie_interval = null\n        let script_timeout = null\n        if (isBrowser()) {\n            const domain = getDomain()\n            try {\n                import('@livechat/customer-sdk').then((CSDK) => {\n                    CustomerSdk.current = CSDK\n                })\n            } catch (e) {\n                //eslint-disable-no-empty\n            }\n\n            /* this function runs every second to determine logged in status*/\n            const checkCookie = (() => {\n                return function () {\n                    const client_information = getClientInformation(domain)\n                    setLoggedIn(!!client_information)\n                }\n            })()\n            cookie_interval = setInterval(checkCookie, 1000)\n\n            // The purpose is to load the script after everything is load but not async or defer. Therefore, it will be ignored in the rendering timeline\n            script_timeout = setTimeout(() => {\n                loadLiveChatScript(() => {\n                    window.LiveChatWidget.on('ready', () => {\n                        setLiveChatInteractive(true)\n                        if (is_livechat_query?.toLowerCase() === 'true') {\n                            window.LC_API.open_chat_window()\n                        }\n                    })\n                })\n            }, 2000)\n        }\n\n        return () => {\n            clearInterval(cookie_interval)\n            clearTimeout(script_timeout)\n        }\n    }, [])\n\n    React.useEffect(() => {\n        if (isBrowser()) {\n            let customerSDK = null\n            const domain = getDomain()\n            if (CustomerSdk.current) {\n                try {\n                    customerSDK = CustomerSdk.current.init({\n                        licenseId: livechat_license_id,\n                        clientId: livechat_client_id,\n                    })\n                } catch (e) {\n                    // eslint-disable-no-empty\n                }\n            }\n            if (is_livechat_interactive) {\n                window.LiveChatWidget.on('ready', () => {\n                    const utm_data = getUTMData(domain)\n                    const client_information = getClientInformation(domain)\n                    \n                    const {\n                        utm_source,\n                        utm_medium,\n                        utm_campaign,\n                    } = (utm_data) || {};\n\n                    const {\n                        loginid,\n                        email,\n                        landing_company_shortcode,\n                        currency,\n                        residence,\n                        first_name,\n                        last_name,\n                    } = (client_information) || {};\n\n                    /* the session variables are sent to CS team dashboard to notify user has logged in\n                    and also acts as custom variables to trigger targeted engagement */\n                    const session_variables = {\n                        is_logged_in: is_logged_in,\n                        loginid: loginid ?? '',\n                        landing_company_shortcode: landing_company_shortcode ?? '',\n                        currency: currency ?? '',\n                        residence: residence ?? '',\n                        email: email ?? '',\n                        utm_source: utm_source ?? '',\n                        utm_medium: utm_medium ?? '',\n                        utm_campaign: utm_campaign ?? '',\n                    }\n                \n                    window.LiveChatWidget.call('set_session_variables', session_variables)\n                    \n                    if (is_logged_in) {\n                        if (email) {\n                            window.LiveChatWidget.call('set_customer_email', email)\n                        }\n                        if (first_name && last_name) {\n                            window.LiveChatWidget.call(\n                                'set_customer_name',\n                                `${first_name} ${last_name}`,\n                            )\n                        }\n                    } else {\n                        const chat_id = window.LiveChatWidget.get('chat_data').chatId\n                        if (chat_id) {\n                            if (customerSDK) {\n                                customerSDK.on('connected', () => {\n                                    customerSDK?.deactivateChat({ chatId: chat_id }).catch(() => {\n                                    })\n                                })\n                            }\n                        }\n\n                        window.LiveChatWidget.call('set_customer_email', ' ')\n                        window.LiveChatWidget.call('set_customer_name', ' ')\n                    }\n\n                    const url_params = new URLSearchParams(window.location.search)\n                    const is_livechat_query = url_params.get('is_livechat_open')\n                    if (is_livechat_query?.toLowerCase() === 'true') {\n                        window.LC_API.open_chat_window()\n                    }\n                })\n            }\n        }\n    }, [is_logged_in, CustomerSdk, is_livechat_interactive])\n\n    return [is_livechat_interactive, LC_API]\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"livechat-red_svg__a\",\n  x1: \"0%\",\n  x2: \"100%\",\n  y1: \"87.972%\",\n  y2: \"12.028%\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: \"0%\",\n  stopColor: \"#FF444F\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: \"100%\",\n  stopColor: \"#FF6444\"\n})));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"url(#livechat-red_svg__a)\",\n  d: \"M62 21a2 2 0 012 2v34.773a2 2 0 01-3.329 1.495L53.62 53H18a2 2 0 01-2-2V40h2v11h35.62c.49 0 .962.18 1.329.505L62 57.773V23H52v-2h10zM46 4a2 2 0 012 2v28a2 2 0 01-2 2H10.38l-7.05 6.268A2 2 0 010 40.773V6a2 2 0 012-2zm0 2H2v34.773l7.051-6.268c.367-.325.84-.505 1.33-.505H46V6zM30 22a1 1 0 01.117 1.993L30 24H9a1 1 0 01-.117-1.993L9 22h21zm9-8a1 1 0 01.117 1.993L39 16H9a1 1 0 01-.117-1.993L9 14h30z\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgLivechatRed(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 64,\n    height: 64\n  }, props), _ref, _ref2);\n}\n\nexport default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iMCUiIHgyPSIxMDAlIiB5MT0iODcuOTcyJSIgeTI9IjEyLjAyOCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGRjQ0NEYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGRjY0NDQiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJNNjIgMjFhMiAyIDAgMDEyIDJ2MzQuNzczYTIgMiAwIDAxLTMuMzI5IDEuNDk1TDUzLjYyIDUzSDE4YTIgMiAwIDAxLTItMlY0MGgydjExaDM1LjYyYy40OSAwIC45NjIuMTggMS4zMjkuNTA1TDYyIDU3Ljc3M1YyM0g1MnYtMmgxMHpNNDYgNGEyIDIgMCAwMTIgMnYyOGEyIDIgMCAwMS0yIDJIMTAuMzhsLTcuMDUgNi4yNjhBMiAyIDAgMDEwIDQwLjc3M1Y2YTIgMiAwIDAxMi0yem0wIDJIMnYzNC43NzNsNy4wNTEtNi4yNjhjLjM2Ny0uMzI1Ljg0LS41MDUgMS4zMy0uNTA1SDQ2VjZ6TTMwIDIyYTEgMSAwIDAxLjExNyAxLjk5M0wzMCAyNEg5YTEgMSAwIDAxLS4xMTctMS45OTNMOSAyMmgyMXptOS04YTEgMSAwIDAxLjExNyAxLjk5M0wzOSAxNkg5YTEgMSAwIDAxLS4xMTctMS45OTNMOSAxNGgzMHoiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==\";\nexport { SvgLivechatRed as ReactComponent };","import React from 'react'\nimport styled from 'styled-components'\nimport { Text } from 'components/elements'\nimport { Button } from 'components/form'\nimport { localize } from 'components/localization'\nimport { Container } from 'components/containers'\nimport { useLivechat } from 'components/hooks/use-livechat'\nimport device from 'themes/device'\nimport ContactUsIcon from 'images/svg/livechat-red.svg'\n\nconst DFYAWrapper = styled.section`\n    background-color: var(--color-black-3);\n`\nconst DFYASection = styled(Container)`\n    padding: 3.5rem 0;\n    justify-content: center;\n    align-items: center;\n    @media ${device.mobileL} {\n        flex-wrap: wrap;\n        justify-content: center;\n        align-items: center;\n\n        ${Button} {\n            font-size: 14px;\n            padding: 10px 16px;\n        }\n    }\n\n    & > * {\n        width: auto;\n    }\n`\nconst StyledIcon = styled.img`\n    @media ${device.tabletL} {\n        width: 48px;\n        height: 48px;\n        margin-right: 1.6rem;\n    }\n`\nconst MiddleText = styled(Text)`\n    @media ${device.mobileL} {\n        margin: 1.6rem 0;\n        text-align: center;\n        font-weight: bold;\n    }\n`\n\nexport const DidntFindYourAnswerBanner = () => {\n    const [is_livechat_interactive, LC_API] = useLivechat()\n    return (\n        <DFYAWrapper>\n            <DFYASection>\n                <StyledIcon src={ContactUsIcon} alt=\"contact us icon\" />\n                <MiddleText size=\"var(--text-size-l)\" color=\"white\" m=\"0 2.4rem\">\n                    {localize('Didn’t find your answer? We can help.')}\n                </MiddleText>\n                {is_livechat_interactive && (\n                    <Button\n                        secondary=\"true\"\n                        onClick={() => {\n                            LC_API.open_chat_window()\n                        }}\n                        weight=\"bold\"\n                        color=\"black\"\n                    >\n                        {localize('Chat')}\n                    </Button>\n                )}\n            </DFYASection>\n        </DFYAWrapper>\n    )\n}\n\nexport default DidntFindYourAnswerBanner\n"],"sourceRoot":""}